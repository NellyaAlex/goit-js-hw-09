{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = { email: '', message: '' };\nconst FORM_DATA_KEY = 'feedback-form-state';\n\nconst feedbackForm = document.querySelector('.feedback-form');\n\nfeedbackForm.addEventListener('input', () => {\n  const userEmail = feedbackForm.elements.email.value.trim();\n  const userMessage = feedbackForm.elements.message.value.trim();\n\n  formData.email = userEmail;\n  formData.message = userMessage;\n\n  saveData(FORM_DATA_KEY, formData);\n});\n\nfunction saveData(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfeedbackForm.addEventListener('submit', event => {\n  const email = feedbackForm.elements.email.value;\n  const message = feedbackForm.elements.message.value;\n\n  if (email === '' || message === '') {\n    alert('Fill please all fields');\n    event.preventDefault();\n  } else {\n    event.preventDefault();\n    console.log(JSON.parse(localStorage.getItem(FORM_DATA_KEY)));\n    localStorage.removeItem(FORM_DATA_KEY);\n    feedbackForm.reset();\n  }\n});\n\nfunction parseData(key = 'empty') {\n  const data = localStorage.getItem(key);\n  try {\n    return JSON.parse(data);\n  } catch (error) {\n    console.log(error.name);\n    return null;\n  }\n}\n\nfunction uploadData() {\n  const parsedData = parseData(FORM_DATA_KEY) || {};\n\n  feedbackForm.elements.email.value = parsedData.email || '';\n  feedbackForm.elements.message.value = parsedData.message || '';\n}\n\nuploadData();\n"],"names":["formData","FORM_DATA_KEY","feedbackForm","userEmail","userMessage","saveData","key","value","event","email","message","parseData","data","error","uploadData","parsedData"],"mappings":"wFAAA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAgB,sBAEhBC,EAAe,SAAS,cAAc,gBAAgB,EAE5DA,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMC,EAAYD,EAAa,SAAS,MAAM,MAAM,OAC9CE,EAAcF,EAAa,SAAS,QAAQ,MAAM,OAExDF,EAAS,MAAQG,EACjBH,EAAS,QAAUI,EAEnBC,EAASJ,EAAeD,CAAQ,CAClC,CAAC,EAED,SAASK,EAASC,EAAKC,EAAO,CAC5B,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACjD,CAEAL,EAAa,iBAAiB,SAAUM,GAAS,CAC/C,MAAMC,EAAQP,EAAa,SAAS,MAAM,MACpCQ,EAAUR,EAAa,SAAS,QAAQ,MAE1CO,IAAU,IAAMC,IAAY,IAC9B,MAAM,wBAAwB,EAC9BF,EAAM,eAAc,IAEpBA,EAAM,eAAc,EACpB,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQP,CAAa,CAAC,CAAC,EAC3D,aAAa,WAAWA,CAAa,EACrCC,EAAa,MAAK,EAEtB,CAAC,EAED,SAASS,EAAUL,EAAM,QAAS,CAChC,MAAMM,EAAO,aAAa,QAAQN,CAAG,EACrC,GAAI,CACF,OAAO,KAAK,MAAMM,CAAI,CACvB,OAAQC,EAAO,CACd,eAAQ,IAAIA,EAAM,IAAI,EACf,IACR,CACH,CAEA,SAASC,GAAa,CACpB,MAAMC,EAAaJ,EAAUV,CAAa,GAAK,CAAA,EAE/CC,EAAa,SAAS,MAAM,MAAQa,EAAW,OAAS,GACxDb,EAAa,SAAS,QAAQ,MAAQa,EAAW,SAAW,EAC9D,CAEAD,EAAY"}